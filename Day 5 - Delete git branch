The Nautilus developers are engaged in active development on one of the project repositories located at /usr/src/kodekloudrepos/beta. During testing, several test branches were created, and now they require cleanup. Here are the requirements provided to the DevOps team:


On the Storage server in Stratos DC, delete a branch named xfusioncorp_beta from the /usr/src/kodekloudrepos/beta Git repository.

ğŸ“Œ Task Objective
The Nautilus development team requested the cleanup of test branches created during development.
The specific requirement was:
Delete the Git branch named xfusioncorp_beta from the repository located at
/usr/src/kodekloudrepos/beta on the Storage Server (ststor01)
________________________________________
ğŸ–¥ï¸ Environment Details
â€¢	Server: Storage Server (ststor01)
â€¢	User: natasha
â€¢	Repository Path: /usr/src/kodekloudrepos/beta
â€¢	Tool Used: Git
â€¢	Branch to Delete: xfusioncorp_beta
________________________________________
ğŸ” Step-by-Step Investigation & Execution
1ï¸âƒ£ Navigated to the Repository
cd /usr/src/kodekloudrepos/beta
Purpose:
Ensure that Git commands are executed inside the correct repository.
________________________________________
2ï¸âƒ£ Initial Attempt to Delete the Branch (Incorrect)
git branch -d /usr/src/kodekloudrepos/beta/
âŒ Error Received:
error: branch '/usr/src/kodekloudrepos/beta/' not found
________________________________________
âŒ Mistake #1: Treating a Path as a Branch
ğŸ”´ What Went Wrong
â€¢	Used a filesystem path instead of a branch name
â€¢	Git branch deletion expects only the branch name
ğŸ§  Root Cause
â€¢	Confusion between:
o	Linux directories (paths)
o	Git branches (logical references inside a repo)
âœ… Correct Understanding
â€¢	Git branches are not folders
â€¢	Branches are identified only by names, such as:
o	master
o	dev
o	xfusioncorp_beta
________________________________________
3ï¸âƒ£ Correct Branch Listing
git branch
Output Example:
* xfusioncorp_beta
  master
This confirmed:
â€¢	The branch exists
â€¢	It is currently checked out
________________________________________
4ï¸âƒ£ Attempt to Delete Active Branch
git branch -d xfusioncorp_beta
âŒ Error Received:
error: cannot delete branch 'xfusioncorp_beta' used by worktree
________________________________________
âŒ Mistake #2: Trying to Delete the Checked-Out Branch
ğŸ”´ What Went Wrong
â€¢	Attempted to delete the branch that was currently active
ğŸ§  Root Cause
â€¢	Git protects the currently checked-out branch from deletion to avoid repository corruption
âœ… Solution
Switch to another branch before deleting.
________________________________________
5ï¸âƒ£ Switched to Safe Branch
git checkout master
âœ” Now the repository is no longer using xfusioncorp_beta
________________________________________
6ï¸âƒ£ Branch Deletion (Successful)
git branch -d xfusioncorp_beta
âœ” Branch deleted successfully
________________________________________
âš ï¸ Additional Issue Encountered: Permission Error
Error:
fatal: Unable to create '/usr/src/kodekloudrepos/beta/.git/index.lock': Permission denied
________________________________________
âŒ Mistake #3: Git Repository Ownership / Permission Issue
ğŸ”´ What Went Wrong
â€¢	Repository ownership or permissions were not aligned with the current user
ğŸ§  Root Cause
â€¢	Repository was created or modified by a different user
â€¢	Git safety mechanism prevented lock file creation
âœ… Solution
sudo chown -R natasha:natasha /usr/src/kodekloudrepos/beta
âœ” This restored write permissions and allowed Git operations
________________________________________
ğŸ“Š Summary of Mistakes & Fixes
Mistake	Cause	Solution
Using directory path as branch	Confused filesystem with Git logic	Use branch name only
Deleting active branch	Branch was checked out	Switch to master
Permission denied error	Ownership mismatch	chown -R user:user
________________________________________
ğŸ§  Key Learnings from This Task
ğŸ”¹ Git Concepts
â€¢	Branches are logical references, not directories
â€¢	You cannot delete the currently active branch
â€¢	Always verify branch status using git branch
ğŸ”¹ Linux & Git Integration
â€¢	File ownership affects Git operations
â€¢	.git/index.lock is critical for Git write actions
ğŸ”¹ DevOps Mindset
â€¢	Read errors carefully â€” they usually explain the problem
â€¢	Always validate:
o	Where you are
o	Which branch youâ€™re on
o	Who owns the files
________________________________________
ğŸ¯ Final Outcome
âœ… Successfully deleted the xfusioncorp_beta branch
âœ… Repository cleaned as per requirement
âœ… Improved understanding of Git internals and Linux permissions
Done
